<html>
<head>
<title>Bouncy Ball</title>
<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>-->
<script src="game.js"></script>
<style type="text/css">
body { background-color: black;}
canvas {background-color: white; margin: auto;}
h1 {color: white;}
</style>
</head>
<body>
<h1>Bouncy Ball</h1>
<canvas id="spring"></canvas>
<div><button onclick='gi.start()'>Start</button></div>
<div><a href='http://divisibleZero.github.com/high5'>More Examples</a></div>
</body>
<script>
   function update(gdata) {
      //Move ball
      height = gdata.height + gdata.speed;
      speed = gdata.speed + -.1;
      //If hits bottom
      if( height <= gdata.radius) {
         return { 
            height: height + ( gdata.radius - height),
            speed: speed * gdata.bounce * -1,
            bounce: gdata.bounce,
            radius: gdata.radius };
      }
      else {
      return { 
         height: height,
         speed: speed,
         bounce: gdata.bounce,
         radius: gdata.radius };
      }
   }
   function draw(gdata, canvas) {
      console.log(gdata.height);
      ctx = canvas.getContext('2d');
      ctx.clearRect(0,0,canvas.width,canvas.height);
      ctx.fillRect(canvas.width/2, 400 - gdata.height, gdata.radius, gdata.radius);
   }

   gameCanvas = document.getElementById('spring');
   gameCanvas.width = 400;
   gameCanvas.height = 400;
   gi = new gameInstance({height: 200, speed: 0, bounce: .9, radius: 4}, update, gameCanvas, draw);

</script>
</html>
